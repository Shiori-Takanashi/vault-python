äº†è§£ã—ã¾ã—ãŸã€‚`flake8` ã¯ `nix flake` ã§ã¯ãªãã€**Python å‘ã‘ã®é™çš„ã‚³ãƒ¼ãƒ‰è§£æãƒ„ãƒ¼ãƒ«**ã§ã™ã€‚ä»¥ä¸‹ã«ã€`flake8` ã®ä½¿ã„æ–¹ã‚’ã„ã¤ã‚‚ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§è§£èª¬ã—ã¾ã™ã€‚

---

## ğŸ“01ç« ï¼šflake8ã¨ã¯ä½•ã‹

---

### ğŸ“è§£èª¬

`flake8` ã¯ã€**Python ã‚³ãƒ¼ãƒ‰ã®æ–‡æ³•ãƒ»ã‚¹ã‚¿ã‚¤ãƒ«ãƒ»æ§‹æ–‡ä¸Šã®å•é¡Œã‚’æ¤œå‡ºã™ã‚‹é™çš„è§£æãƒ„ãƒ¼ãƒ«**ã§ã‚ã‚‹ã€‚
ä¸»ã«ä»¥ä¸‹ã®3ã¤ã‚’çµ±åˆã—ã¦ã„ã‚‹ï¼š

* **pyflakes**ï¼šæ§‹æ–‡ãƒ»å¤‰æ•°ã®ä½¿ç”¨ãƒŸã‚¹ã‚’æ¤œå‡º
* **pycodestyle**ï¼šPEP8 ã«åŸºã¥ãã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ã®æ¤œæŸ»
* **mccabe**ï¼šè¤‡é›‘åº¦ï¼ˆMcCabe è¤‡é›‘åº¦ï¼‰ã®è©•ä¾¡

é–‹ç™ºåˆæœŸã«å°å…¥ã™ã‚‹ã“ã¨ã§ã€**å“è³ªã¨ä¸€è²«æ€§ã®é«˜ã„ã‚³ãƒ¼ãƒ‰ã‚’ä¿ã¤**æ‰‹åŠ©ã‘ã¨ãªã‚‹ã€‚

---

## ğŸ“02ç« ï¼šã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨å®Ÿè¡Œæ–¹æ³•

---

### âœ… ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
pip install flake8
```

ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é™å®šã™ã‚‹å ´åˆï¼š

```bash
python -m venv .venv
source .venv/bin/activate
pip install flake8
```

---

### âœ… æœ€å°æ§‹æˆã§ã®å®Ÿè¡Œ

```bash
flake8 path/to/code.py
```

ã¾ãŸã¯ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å¯¾è±¡ï¼š

```bash
flake8 .
```

---

### ğŸ” å‡ºåŠ›ä¾‹

```
example.py:3:1: F401 'os' imported but unused
example.py:5:80: E501 line too long (82 > 79 characters)
```

| ã‚³ãƒ¼ãƒ‰  | å†…å®¹                    |
| ---- | --------------------- |
| F401 | æœªä½¿ç”¨ã® importï¼ˆpyflakesï¼‰ |
| E501 | è¡ŒãŒé•·ã™ãã‚‹ï¼ˆpycodestyleï¼‰   |

---

## ğŸ“03ç« ï¼šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã‚‹åˆ¶å¾¡

---

### âœ… è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾‹ï¼ˆ`setup.cfg`ï¼‰

```ini
[flake8]
max-line-length = 88
exclude = .venv,__pycache__,build,dist
ignore = E203, W503
```

ä»–ã«ã‚‚ `.flake8` ã‚„ `tox.ini` ã«æ›¸ãã“ã¨ã‚‚å¯èƒ½ã€‚

---

### âœ… ã‚ˆãä½¿ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³

| ã‚ªãƒ—ã‚·ãƒ§ãƒ³               | èª¬æ˜                          |
| ------------------- | --------------------------- |
| `--max-line-length` | è¨±å®¹ã•ã‚Œã‚‹è¡Œã®é•·ã•ï¼ˆPEP8ã¯79ã€Blackã¯88ï¼‰ |
| `--exclude`         | æ¤œæŸ»å¯¾è±¡ã‹ã‚‰é™¤å¤–ã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚„ãƒ•ã‚¡ã‚¤ãƒ«       |
| `--ignore`          | ç„¡è¦–ã—ãŸã„ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’æŒ‡å®š              |

---

## ğŸ“04ç« ï¼šå®Ÿå‹™çš„ãªæ´»ç”¨

---

### âœ… CI/CD ã¸ã®çµ±åˆä¾‹ï¼ˆGitHub Actionsï¼‰

```yaml
# .github/workflows/lint.yml
name: Lint

on: [push, pull_request]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-python@v4
        with:
          python-version: "3.11"
      - run: pip install flake8
      - run: flake8 .
```

---

## ğŸ“05ç« ï¼šæ³¨æ„ç‚¹ã¨é™ç•Œ

---

### âš ï¸ æ³¨æ„

* **å‹ãƒã‚§ãƒƒã‚¯ã¯è¡Œã‚ãªã„**ï¼ˆmypy ã¨ä½µç”¨ã™ã¹ãï¼‰
* **è‡ªå‹•ä¿®æ­£ã¯ã§ããªã„**ï¼ˆ`black` ã‚„ `ruff` ã®æ–¹ãŒé©ã—ã¦ã„ã‚‹ï¼‰
* **ãƒ«ãƒ¼ãƒ«ã®å³æ ¼ã•ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã«èª¿æ•´ãŒå¿…è¦**

---

## âœ… è£œè¶³ï¼šflake8 ã‚’å¼·åŒ–ã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ä¾‹

| ãƒ—ãƒ©ã‚°ã‚¤ãƒ³                 | èª¬æ˜                |
| --------------------- | ----------------- |
| `flake8-bugbear`      | å®Ÿç”¨çš„ãªãƒã‚°æ¤œå‡ºãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ     |
| `flake8-docstrings`   | docstring ã®ã‚¹ã‚¿ã‚¤ãƒ«æ¤œæŸ» |
| `flake8-import-order` | import æ–‡ã®é †åºç¢ºèª     |
| `pep8-naming`         | å‘½åè¦å‰‡ã®é•åæ¤œå‡º         |

```bash
pip install flake8-bugbear flake8-docstrings
```

---

å¿…è¦ã§ã‚ã‚Œã°ã€ã€Œruff ã¨ã®æ¯”è¼ƒã€ã€Œè‡ªå‹•æ•´å½¢ã¨ã®å½¹å‰²åˆ†æ‹…ã€ãªã©ã€ç¾ä»£çš„ãª Python é–‹ç™ºã«ãŠã‘ã‚‹ä½ç½®ã¥ã‘ã‚‚è§£èª¬å¯èƒ½ã§ã™ã€‚
