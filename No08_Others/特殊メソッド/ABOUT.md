## 🔸 特殊メソッド（Dunder Method）

---

### 1. **特殊メソッドとは何か**

* `__xxx__`形式の意味と起動条件（構文との対応）
* 組み込み関数（`len()`, `str()`）との連携
* 明示呼び出しと暗黙呼び出しの違い

---

### 2. **インスタンス生成・初期化・破棄**

* `__new__`: クラスからインスタンスを生成（低頻度だが本質的）
* `__init__`: 通常の初期化処理
* `__del__`: ガーベジコレクタとの関係／非推奨ケース

---

### 3. **呼び出し可能オブジェクト**

* `__call__`: インスタンスを関数のように使う
* ユースケース：関数オブジェクト、状態保持、デコレータ

---

### 4. **文字列表現とバイト表現**

* `__str__`: `str(obj)` / `print(obj)` に対応（ユーザー向け）
* `__repr__`: `repr(obj)` / シェル出力に対応（開発者向け）
* `__format__`: `f"{obj}"` に対応
* `__bytes__`: `bytes(obj)` によるバイト列変換

---

### 5. **数値・論理・型変換**

* `__int__`, `__float__`, `__complex__`: 型変換に対応
* `__bool__`: `if obj:` などの真偽値判定
* `__index__`: 整数型としての扱い（スライスなど）

---

### 6. **イテレータとジェネレータのプロトコル**

* `__iter__`: イテレータを返す（for文に必要）
* `__next__`: 値を一つずつ返す
* `__reversed__`: `reversed(obj)` に対応

---

### 7. **コンテナプロトコル（インデックス・キーアクセス）**

* `__getitem__`, `__setitem__`, `__delitem__`
* `__contains__`: `in` に対応
* `__len__`: `len()` に対応

---

### 8. **属性アクセス制御**

* `__getattr__`: 存在しない属性にアクセスしたとき
* `__getattribute__`: 常に呼ばれる（注意点多い）
* `__setattr__`, `__delattr__`: 動的属性の制御

---

### 9. **比較演算子のオーバーロード**

* `__eq__`, `__ne__`, `__lt__`, `__le__`, `__gt__`, `__ge__`
* `functools.total_ordering` の活用
* 比較ロジックの整合性とユースケース

---

### 10. **数値演算・ビット演算オーバーロード**

* `__add__`, `__sub__`, `__mul__`, `__truediv__`, `__floordiv__`, `__mod__`, `__pow__`
* `__and__`, `__or__`, `__xor__`, `__lshift__`, `__rshift__`
* `__radd__`, `__iadd__` などの右辺／インプレース処理

---

### 11. **単項演算・型変換演算子**

* `__neg__`: `-obj`
* `__pos__`: `+obj`
* `__abs__`: `abs(obj)`
* `__invert__`: `~obj`

---

### 12. **コンテキストマネージャ（with構文対応）**

* `__enter__`: with文の開始時処理
* `__exit__`: 終了時処理と例外制御
* リソース管理、トランザクション管理、ファイル処理の応用

---
